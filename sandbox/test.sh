#!/bin/bash

save_array(){
  declare -p $1
}

restore_array(){
  local l; read -r l; eval "${l/-A*=(/-gA $1=(}"
}

#declare -A a1
#a1[~/some/really/long/and/confusing/path/to/a/random/file]=34f
#a1[~/blueberry/lantern.d/init.sh]=34f
#a1[~/blueberry/vimrc]=34f
#a1[~/blueberry/aliases]=34f
#a1[~/blueberry/lantern.d/data]=34f
#a1[~/blueberry/lantern.d/lantern]=34f
#a1[~/Downloads]=34f
#a1[~/blueberry]=34f
#a1[~/blueberry/sandbox]=34f
#a1[~/blueberry/lantern.d/src/clean.sh]=34f
#a1[~/blueberry/lantern.d/src/launch.sh]=34f
#a1[redshift -l 60:30 -t 5500:2500 -b 1.0:0.7]=34f
#a1[~/blueberry/fonts]=34f
#a1[~/blueberry/graveyard]=34f
#a1[~/blueberry/images]=34f
#a1[~/blueberry/lantern.d]=34f
#a1[~/blueberry/lantern.d/src]=34f
#a1[~/blueberry/notes]=34f
#a1[~/blueberry/scripts]=34f
#a1[~/blueberry/st-0.8.2]=34f
#a1[~/blueberry/themes]=34f
#a1[~/blueberry/vim]=34f
#a1[~/blueberry/vim/colors]=34f
#a1[~/notes]=34f
#a1[~/ops]=34f
#a1[~/.Xauthority]=34f
#a1[~/.bash_history]=34f
#a1[~/.bash_logout]=34f
#a1[~/.git-credentials]=34f
#a1[~/.gitconfig]=34f
#a1[~/.lesshst]=34f
#a1[~/.log]=34f
#a1[~/.soap_log.txt]=34f
#a1[~/.wallpaper]=34f
#a1[~/.zcompdump]=34f
#a1[~/.zcompdump-tsbohc-5.7.1]=34f
#a1[~/.zsh_history]=34f
#a1[~/.zshrc]=34f
#a1[~/.zshrc_bleh]=34f
#a1[~/Downloads/practical_vim.pdf]=34f
#a1[~/blueberry/.gitignore]=34f
#a1[~/blueberry/.soap_log.txt]=34f
#a1[~/blueberry/Xresources]=34f
#a1[~/blueberry/bash_profile]=34f
#a1[~/blueberry/bashrc]=34f
#a1[~/blueberry/dunstrc]=34f
#a1[~/blueberry/fonts/TamzenForPowerline8x16.psf]=34f
#a1[~/blueberry/graveyard/compton]=34f
#a1[~/blueberry/graveyard/i3]=34f
#a1[~/blueberry/graveyard/polybar]=34f
#a1[~/blueberry/graveyard/xinitrc_old]=34f
#a1[~/blueberry/images/0bfp46.jpg]=34f
#a1[~/blueberry/lantern.d/config.sh]=34f
#a1[~/blueberry/lantern.d/makefile]=34f
#a1[~/blueberry/lantern.d/src/helpers.sh]=34f
#a1[~/blueberry/lantern.d/src/main.sh]=34f
#a1[~/blueberry/lantern.d/src/manage.sh]=34f
#a1[~/blueberry/lantern.d/src/populate.sh]=34f
#a1[~/blueberry/lantern.d/src/reduce_scores.sh]=34f
#a1[~/blueberry/notes/archinstall.md]=34f
#a1[~/blueberry/notes/patching_st.md]=34f
#a1[~/blueberry/picom]=34f
#a1[~/blueberry/readme.md]=34f
#a1[~/blueberry/sandbox/test.sh]=34f
#a1[~/blueberry/scripts/nts.py]=34f
#a1[~/blueberry/scripts/sincolwal.png]=34f
#a1[~/blueberry/scripts/sincolwal.py]=34f
#a1[~/blueberry/scripts/tinyfetch.py]=34f
#a1[~/blueberry/scripts/z.lua]=34f
#a1[~/blueberry/st-0.8.2/FAQ]=34f
#a1[~/blueberry/st-0.8.2/LEGACY]=34f
#a1[~/blueberry/st-0.8.2/LICENSE]=34f
#a1[~/blueberry/st-0.8.2/Makefile]=34f
#a1[~/blueberry/st-0.8.2/README]=34f
#a1[~/blueberry/st-0.8.2/TODO]=34f
#a1[~/blueberry/st-0.8.2/arg.h]=34f
#a1[~/blueberry/st-0.8.2/boxdraw.c]=34f
#a1[~/blueberry/st-0.8.2/boxdraw.o]=34f
#a1[~/blueberry/st-0.8.2/boxdraw_data.h]=34f
#a1[~/blueberry/st-0.8.2/config.def.h]=34f
#a1[~/blueberry/st-0.8.2/config.h]=34f
#a1[~/blueberry/st-0.8.2/config.mk]=34f
#a1[~/blueberry/st-0.8.2/st.1]=34f
#a1[~/blueberry/st-0.8.2/st.c]=34f
#a1[~/blueberry/st-0.8.2/st.h]=34f
#a1[~/blueberry/st-0.8.2/st.info]=34f
#a1[~/blueberry/st-0.8.2/st.o]=34f
#a1[~/blueberry/st-0.8.2/win.h]=34f
#a1[~/blueberry/st-0.8.2/x.c]=34f
#a1[~/blueberry/st-0.8.2/x.o]=34f
#a1[~/blueberry/sxhkdrc]=34f
#a1[~/blueberry/themes/.soap_log.txt]=34f
#a1[~/blueberry/themes/gruvbox]=34f
#a1[~/blueberry/themes/jellybeans]=34f
#a1[~/blueberry/themes/kasugano]=34f
#a1[~/blueberry/themes/onedark]=34f
#a1[~/blueberry/themes/unknown]=34f
#a1[~/blueberry/themes/unknown_old]=34f
#a1[~/blueberry/vim/.soap_log.txt]=34f
#a1[~/blueberry/vim/colors/.soap_log.txt]=34f
#a1[~/blueberry/vim/colors/default-light.vim]=34f
#a1[~/blueberry/vim/colors/dim.vim]=34f
#a1[~/blueberry/vim/colors/jellybeans.vim]=34f
#a1[~/blueberry/vim/colors/kasugano.vim]=34f
#a1[~/blueberry/vim/colors/termcolors.vim]=34f
#a1[~/blueberry/vim/nvim_init.vim]=34f
#a1[~/blueberry/vim/statusline.vim]=34f
#a1[~/blueberry/vim/vpager]=34f
#a1[~/blueberry/xinitrc]=34f
#a1[~/blueberry/zathurarc]=34f
#a1[~/notes/german.md]=34f
#a1[~/op.zip]=34f
#a1[~/ops/1berserk.mp4]=34f
#a1[~/ops/2trigun.mp4]=34f
#a1[~/ops/3cowboybebop.mp4]=34f
#a1[~/ops/4evangelion.mp4]=34f
#a1[~/ops/5lain.mp4]=34f
#a1[~/ops/6utena.mkv]=34f
#a1[~/ops/7yuyuhakusho.mp4]=34f
#a1[~/ops/angelbeats.mp4]=34f
#a1[~/ops/ergoproxy.mp4]=34f
#a1[~/ops/flcl.mp4]=34f
#a1[~/ops/jojo1.mpv]=34f
#a1[~/ops/jojo2.mpv]=34f
#a1[~/ops/jojo3.mpv]=34f
#a1[~/ops/koenokatachi.mp4]=34f
#a1[~/ops/luckystar.mp4]=34f
#a1[~/ops/mob1.mp4]=34f
#a1[~/ops/mob2.mp4]=34f
#a1[~/ops/movieclub.mp4]=34f
#a1[~/ops/onepunchman.mp4]=34f
#a1[~/ops/p]=34f
#a1[~/ops/pingpong.mp4]=34f
#a1[~/ops/popteamepic.mp4]=34f
#a1[~/ops/samuraichamploo1.mp4]=34f
#a1[~/ops/samuraichamploo2.mp4]=34f
#a1[~/ops/spacedandy.mp4]=34f
#a1[~/ops/tatamigalaxy.mkv]=34f
#a1[~/.fehbg]=34f
#a1[~/blueberry/bspwmrc]=34f
#a1[~/blueberry/graveyard/blueberry.sh]=34f
#a1[~/blueberry/graveyard/lantern_old]=34f
#a1[~/blueberry/graveyard/test.sh]=34f
#a1[~/blueberry/lemon]=34f
#a1[~/blueberry/scripts/altlayi3]=34f
#a1[~/blueberry/scripts/brightnesscontrol]=34f
#a1[~/blueberry/scripts/catlogin]=34f
#a1[~/blueberry/scripts/cpos]=34f
#a1[~/blueberry/scripts/get_xres]=34f
#a1[~/blueberry/scripts/hex_to_rgb]=34f
#a1[~/blueberry/scripts/keyboardswitch]=34f
#a1[~/blueberry/scripts/launchy]=34f
#a1[~/blueberry/scripts/menuselect]=34f
#a1[~/blueberry/scripts/print_hex]=34f
#a1[~/blueberry/scripts/rgb_to_hex]=34f
#a1[~/blueberry/scripts/shade_hex]=34f
#a1[~/blueberry/soap]=34f
#a1[~/blueberry/st-0.8.2/st]=34f
#a1[~/blueberry/vim/statusline_colors]=34f
#a1[~/test.sh]=34f
#a1[2]=2k

#save_array a1 >/tmp/save
restore_array a2 </tmp/save

echo "~/some/really/long/and/confusing/path/to/a/random/file: ${a2[~/some/really/long/and/confusing/path/to/a/random/file]}"
